  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 07:40:31', '2017-09-25 07:40:31', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 07:40:31', '2017-09-25 07:40:31', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 07:40:31', '2017-09-25 07:40:31', 298486374, 298486374)[0m
  [1m[35m (41.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 07:40:31', '2017-09-25 07:40:31')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (44.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 07:40:31', '2017-09-25 07:40:31')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (50.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/new" for 127.0.0.1 at 2017-09-25 09:40:31 +0200
Processing by BooksController#new as HTML
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 09:40:31 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3283ms (Views: 3282.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 09:40:35 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 09:40:35 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 09:40:35 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 09:40:35 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 09:40:35 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 09:40:35 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 09:40:35 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 09:40:35 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 09:40:35 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 09:40:35 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 07:45:08', '2017-09-25 07:45:08', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 07:45:08', '2017-09-25 07:45:08', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 07:45:08', '2017-09-25 07:45:08', 298486374, 298486374)[0m
  [1m[35m (44.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 09:45:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 152ms (Views: 145.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 09:45:09 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 09:45:09 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 09:45:09 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 09:45:09 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 09:45:09 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 09:45:09 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 09:45:09 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/new" for 127.0.0.1 at 2017-09-25 09:45:09 +0200
Processing by BooksController#new as HTML
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 09:45:09 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 07:45:09', '2017-09-25 07:45:09')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (53.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 07:45:09', '2017-09-25 07:45:09')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (43.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 09:45:09 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 07:45:45', '2017-09-25 07:45:45', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 07:45:45', '2017-09-25 07:45:45', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 07:45:45', '2017-09-25 07:45:45', 298486374, 298486374)[0m
  [1m[35m (39.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 09:45:45 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 177ms (Views: 171.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 07:45:45', '2017-09-25 07:45:45')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (40.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 07:45:45', '2017-09-25 07:45:45')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (37.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 09:45:45 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 09:45:45 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 09:45:45 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 09:45:45 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 09:45:45 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 09:45:45 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 09:45:45 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 09:45:45 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 09:45:45 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 09:45:45 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 07:55:40', '2017-09-25 07:55:40', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 07:55:40', '2017-09-25 07:55:40', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 07:55:40', '2017-09-25 07:55:40', 298486374, 298486374)[0m
  [1m[35m (38.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 07:55:40', '2017-09-25 07:55:40')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (39.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 07:55:40', '2017-09-25 07:55:40')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (37.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 09:55:40 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 130ms (Views: 125.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 09:55:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 09:55:41 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 09:55:41 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 09:55:41 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 09:55:41 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 09:55:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 09:55:41 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 09:55:41 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 09:55:41 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 09:55:41 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 25ms (Views: 24.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 07:56:34', '2017-09-25 07:56:34', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 07:56:34', '2017-09-25 07:56:34', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 07:56:34', '2017-09-25 07:56:34', 298486374, 298486374)[0m
  [1m[35m (46.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 09:56:34 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.7ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 180ms (Views: 174.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 09:56:34 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 09:56:34 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 09:56:34 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 09:56:34 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 09:56:34 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 09:56:34 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 09:56:34 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 09:56:34 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 09:56:34 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 09:56:34 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 07:56:35', '2017-09-25 07:56:35')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (49.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 07:56:35', '2017-09-25 07:56:35')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (55.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 07:56:49', '2017-09-25 07:56:49', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 07:56:49', '2017-09-25 07:56:49', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 07:56:49', '2017-09-25 07:56:49', 298486374, 298486374)[0m
  [1m[35m (56.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 09:56:49 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 179ms (Views: 173.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 07:56:49', '2017-09-25 07:56:49')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (36.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 07:56:49', '2017-09-25 07:56:49')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (42.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 09:56:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 09:56:49 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 09:56:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 09:56:49 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 09:56:49 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 09:56:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 09:56:49 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 09:56:49 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 09:56:49 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 09:56:49 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 08:01:58', '2017-09-25 08:01:58', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (3.3ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:01:58', '2017-09-25 08:01:58', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.9ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:01:58', '2017-09-25 08:01:58', 298486374, 298486374)[0m
  [1m[35m (41.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:01:58 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (8.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 143ms (Views: 137.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:01:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:01:58 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 10:01:58 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:01:58 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:01:58 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:01:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:01:58 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:01:58 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:01:58 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:01:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:01:58 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 44ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:01:58 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:01:59 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:01:59', '2017-09-25 08:01:59')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:01:59', '2017-09-25 08:01:59')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (39.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 08:10:06', '2017-09-25 08:10:06', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:10:06', '2017-09-25 08:10:06', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:10:06', '2017-09-25 08:10:06', 298486374, 298486374)[0m
  [1m[35m (61.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BooksEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:10:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (9.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 140ms (Views: 134.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:10:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 10:10:07 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (10.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 12.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:10:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:10:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:10:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:10:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 16.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:10:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:10:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 10:10:07 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:10:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:10:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:10:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:10:07 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:10:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:10:07', '2017-09-25 08:10:07')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (42.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:10:07', '2017-09-25 08:10:07')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (8.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (44.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:10:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:10:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (5.4ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 08:10:37', '2017-09-25 08:10:37', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:10:37', '2017-09-25 08:10:37', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:10:37', '2017-09-25 08:10:37', 298486374, 298486374)[0m
  [1m[35m (116.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:10:38 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 145ms (Views: 140.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:10:38 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:10:38 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:10:38 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:10:38 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:10:38 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:10:38 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 10:10:38 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:10:38 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:10:38', '2017-09-25 08:10:38')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:10:38', '2017-09-25 08:10:38')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (43.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:10:38 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:10:38 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:10:38 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:10:38 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:10:38 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BooksEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:10:38 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:10:38 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 10:10:38 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (6.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 08:10:47', '2017-09-25 08:10:47', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:10:47', '2017-09-25 08:10:47', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:10:47', '2017-09-25 08:10:47', 298486374, 298486374)[0m
  [1m[35m (59.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:10:47 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 156ms (Views: 151.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:10:48 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:10:48 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:10:48 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:10:48 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 35ms (Views: 13.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:10:48', '2017-09-25 08:10:48')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (38.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:10:48', '2017-09-25 08:10:48')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (39.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:10:48 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:10:48 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:10:48 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:10:48 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:10:48 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:10:48 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 10:10:48 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:10:48 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:10:48 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BooksEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:10:48 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:10:48 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 10:10:48 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 08:23:31', '2017-09-25 08:23:31', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:23:31', '2017-09-25 08:23:31', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:23:31', '2017-09-25 08:23:31', 298486374, 298486374)[0m
  [1m[35m (47.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:23:31 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 143ms (Views: 138.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:23:32 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:23:32 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.8ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:23:32 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:23:32 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:23:32 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:23:32 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 10:23:32 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:23:32 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:23:32 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:23:32 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:23:32 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:23:32 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:23:32', '2017-09-25 08:23:32')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (37.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:23:32', '2017-09-25 08:23:32')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (38.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BooksEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:23:32 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:23:32 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 10:23:32 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 10:23:32 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 6.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:23:32 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 08:23:52', '2017-09-25 08:23:52', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:23:52', '2017-09-25 08:23:52', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:23:52', '2017-09-25 08:23:52', 298486374, 298486374)[0m
  [1m[35m (66.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:23:52 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 160ms (Views: 154.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BooksEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:23:52 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:23:52 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 10:23:52 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (11.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 12.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:23:52 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 11.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:23:52 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:23:52 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:23:52 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:23:52 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:23:52 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:23:52 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 10:23:52 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:23:52 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:23:52', '2017-09-25 08:23:52')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (40.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:23:52', '2017-09-25 08:23:52')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (46.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:23:52 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:23:52 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:23:52 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:23:52 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 08:24:24', '2017-09-25 08:24:24', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:24:24', '2017-09-25 08:24:24', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:24:24', '2017-09-25 08:24:24', 298486374, 298486374)[0m
  [1m[35m (57.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:24:24', '2017-09-25 08:24:24')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (59.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:24:24', '2017-09-25 08:24:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (50.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:24:25 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 125ms (Views: 119.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:24:25 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:24:25 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:24:25 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (29.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 41ms (Views: 31.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BooksEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:24:25 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:24:25 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 10:24:25 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (1.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (6.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 7.9ms | ActiveRecord: 1.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 10:24:25 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 3.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:24:25 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:24:25 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:24:25 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:24:25 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:24:25 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 10:24:25 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:24:25 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:24:25 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:24:25 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:24:25 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 08:31:40', '2017-09-25 08:31:40', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:31:40', '2017-09-25 08:31:40', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:31:40', '2017-09-25 08:31:40', 298486374, 298486374)[0m
  [1m[35m (46.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:31:40', '2017-09-25 08:31:40')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (45.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:31:40', '2017-09-25 08:31:40')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 140ms (Views: 134.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 14.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 0.5ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 10:31:40 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 4.0ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 08:32:48', '2017-09-25 08:32:48', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:32:48', '2017-09-25 08:32:48', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:32:48', '2017-09-25 08:32:48', 298486374, 298486374)[0m
  [1m[35m (43.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 191ms (Views: 185.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (3.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered books/new.html.erb within layouts/application (8.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 37ms (Views: 10.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by BooksController#new as HTML
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (8.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 9.1ms | ActiveRecord: 0.6ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 3.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:32:49', '2017-09-25 08:32:49')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (42.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:32:49', '2017-09-25 08:32:49')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (39.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:32:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 08:33:13', '2017-09-25 08:33:13', 60668565)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (3.0ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:33:13', '2017-09-25 08:33:13', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:33:13', '2017-09-25 08:33:13', 298486374, 298486374)[0m
  [1m[35m (52.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:33:13 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 143ms (Views: 137.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:33:13 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:33:13 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:33:13 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:33:13 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:33:13 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 10:33:13 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:33:13 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:33:13 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:33:13 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:33:13 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:33:13 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:33:13 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 28ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:33:13 +0200
Processing by BooksController#new as HTML
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:33:14 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:33:14 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 10:33:14 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 10:33:14 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 3.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:33:14 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:33:14', '2017-09-25 08:33:14')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (45.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:33:14', '2017-09-25 08:33:14')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (9.6ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 08:33:26', '2017-09-25 08:33:26', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:33:26', '2017-09-25 08:33:26', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:33:26', '2017-09-25 08:33:26', 298486374, 298486374)[0m
  [1m[35m (58.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 162ms (Views: 157.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 34ms (Views: 14.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:33:27 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:33:27', '2017-09-25 08:33:27')[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (50.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:33:27', '2017-09-25 08:33:27')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (48.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 08:43:48', '2017-09-25 08:43:48', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:43:48', '2017-09-25 08:43:48', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:43:48', '2017-09-25 08:43:48', 298486374, 298486374)[0m
  [1m[35m (44.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:43:48', '2017-09-25 08:43:48')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:43:48', '2017-09-25 08:43:48')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (53.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 137ms (Views: 132.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (1.6ms)
  Rendered books/new.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 9.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (40.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.5ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:43:49 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 08:44:54', '2017-09-25 08:44:54', 60668565)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:44:54', '2017-09-25 08:44:54', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:44:54', '2017-09-25 08:44:54', 298486374, 298486374)[0m
  [1m[35m (50.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 170ms (Views: 153.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 37ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:44:54', '2017-09-25 08:44:54')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (43.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:44:54', '2017-09-25 08:44:54')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (42.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (3.4ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (12.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 10.8ms | ActiveRecord: 3.7ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 10:44:54 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 5.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 08:45:06', '2017-09-25 08:45:06', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (1.0ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:45:06', '2017-09-25 08:45:06', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:45:06', '2017-09-25 08:45:06', 298486374, 298486374)[0m
  [1m[35m (40.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:45:06', '2017-09-25 08:45:06')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (59.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:45:06', '2017-09-25 08:45:06')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:45:06 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 147ms (Views: 142.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:45:06 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (20.9ms)
  Rendered books/new.html.erb within layouts/application (24.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 35ms (Views: 25.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (1.0ms)
  Rendered books/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 6.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:45:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 08:59:10', '2017-09-25 08:59:10', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (1.0ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:59:10', '2017-09-25 08:59:10', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:59:10', '2017-09-25 08:59:10', 298486374, 298486374)[0m
  [1m[35m (47.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 134ms (Views: 129.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered books/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 2.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 08:59:10', '2017-09-25 08:59:10')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668606
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/60668606" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"60668606"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668606 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668606[0m
  Rendered books/show.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 1.0ms)
  [1m[35m (49.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 4.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:59:10', '2017-09-25 08:59:10')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (48.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:59:10', '2017-09-25 08:59:10')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (42.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:59:10 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 21.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:59:11 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 08:59:34', '2017-09-25 08:59:34', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:59:34', '2017-09-25 08:59:34', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 08:59:34', '2017-09-25 08:59:34', 298486374, 298486374)[0m
  [1m[35m (46.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:59:34 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.0ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 191ms (Views: 185.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:59:34 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:59:34 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 10:59:34 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:59:34 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:59:34 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:59:34 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 10:59:34 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:59:34 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (14.8ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:59:34 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:59:34 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:59:34 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 41ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 10:59:35 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 08:59:35', '2017-09-25 08:59:35')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668609
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/60668609" for 127.0.0.1 at 2017-09-25 10:59:35 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"60668609"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668609 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668609[0m
  Rendered books/show.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.5ms)
  [1m[35m (64.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:59:35 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:59:35 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 10:59:35 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 10:59:35 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:59:35 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:59:35 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:59:35 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 10:59:35 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered books/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 5.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:59:35 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 10:59:35 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 10:59:35 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 10:59:35 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:59:35', '2017-09-25 08:59:35')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (46.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 08:59:35', '2017-09-25 08:59:35')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (53.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 10:59:35 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.7ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 12.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 09:12:02', '2017-09-25 09:12:02', 60668565)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.8ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 09:12:02', '2017-09-25 09:12:02', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 09:12:02', '2017-09-25 09:12:02', 298486374, 298486374)[0m
  [1m[35m (57.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:12:02 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (17.4ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 168ms (Views: 159.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 11:12:02 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:12:02 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:12:02 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 11:12:02 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 16.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565?book%5Bisbn%5D=&book%5Bpublisher%5D=&book%5Bpublishing_date%5D=&book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"isbn"=>"", "publisher"=>"", "publishing_date"=>"", "title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.7ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 4.5ms | ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 4.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 09:12:03', '2017-09-25 09:12:03')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668612
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/60668612" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"60668612"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668612 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668612[0m
  Rendered books/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (44.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  [1m[36mAuthor Load (1.7ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (13.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 14.5ms | ActiveRecord: 2.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 11:12:03 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 09:12:03', '2017-09-25 09:12:03')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (38.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 09:12:03', '2017-09-25 09:12:03')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (79.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (4.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 09:16:19', '2017-09-25 09:16:19', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 09:16:19', '2017-09-25 09:16:19', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 09:16:19', '2017-09-25 09:16:19', 298486374, 298486374)[0m
  [1m[35m (51.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 142ms (Views: 136.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 14.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (8.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565?book%5Bisbn%5D=fff&book%5Bpublisher%5D=fady&book%5Bpublishing_date%5D=11-1-2001&book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"isbn"=>"fff", "publisher"=>"fady", "publishing_date"=>"11-1-2001", "title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fff' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `publisher` = 'fady', `isbn` = 'fff', `publishing_date` = '2001-01-11' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (39.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered books/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 2.9ms | ActiveRecord: 3.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 09:16:19', '2017-09-25 09:16:19')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668615
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/60668615" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"60668615"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668615 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668615[0m
  Rendered books/show.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[35m (42.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 11:16:19 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 09:16:19', '2017-09-25 09:16:19')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (5.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (56.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 09:16:19', '2017-09-25 09:16:19')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (44.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 09:17:07', '2017-09-25 09:17:07', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 09:17:07', '2017-09-25 09:17:07', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 09:17:07', '2017-09-25 09:17:07', 298486374, 298486374)[0m
  [1m[35m (51.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 158ms (Views: 152.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (23.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 27ms (Views: 24.3ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Bisbn%5D=fff&book%5Bpublisher%5D=fady&book%5Bpublishing_date%5D=11-1-2001&book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"isbn"=>"fff", "publisher"=>"fady", "publishing_date"=>"11-1-2001", "title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fff' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `publisher` = 'fady', `isbn` = 'fff', `publishing_date` = '2001-01-11' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (44.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (3.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 09:17:07', '2017-09-25 09:17:07')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668618
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/60668618" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"60668618"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668618 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668618[0m
  Rendered books/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms)
  [1m[35m (38.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered books/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (11.6ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 09:17:07', '2017-09-25 09:17:07')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (39.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (3.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 09:17:08', '2017-09-25 09:17:08')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (37.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 11:17:08 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 11:17:08 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 09:17:23', '2017-09-25 09:17:23', 60668565)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 09:17:23', '2017-09-25 09:17:23', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 09:17:23', '2017-09-25 09:17:23', 298486374, 298486374)[0m
  [1m[35m (48.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.7ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 151ms (Views: 146.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 2.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 29ms (Views: 26.9ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (39.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 09:17:23', '2017-09-25 09:17:23')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668621
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/60668621" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"60668621"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668621 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668621[0m
  Rendered books/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms)
  [1m[35m (42.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (11.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 17.8ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 7.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 11:17:23 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 09:17:23', '2017-09-25 09:17:23')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (47.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 09:17:23', '2017-09-25 09:17:23')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (43.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 11:17:24 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:24 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 11:17:24 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (5.9ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:24 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:24 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 11:17:24 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 09:17:36', '2017-09-25 09:17:36', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 09:17:36', '2017-09-25 09:17:36', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 09:17:36', '2017-09-25 09:17:36', 298486374, 298486374)[0m
  [1m[35m (86.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 09:17:36', '2017-09-25 09:17:36')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (3.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (39.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 09:17:36', '2017-09-25 09:17:36')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (37.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:36 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 142ms (Views: 137.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:36 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 11:17:36 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:36 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:36 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 11:17:36 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 11:17:36 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 11:17:36 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 11:17:36 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:36 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:36 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 11:17:36 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:36 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 11:17:37 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 11:17:37 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 09:17:37', '2017-09-25 09:17:37')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668626
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/60668626" for 127.0.0.1 at 2017-09-25 11:17:37 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"60668626"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668626 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668626[0m
  Rendered books/show.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.3ms)
  [1m[35m (55.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 11:17:37 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 11:17:37 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 11:17:37 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (8.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 11:17:37 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 5.6ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 11:17:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 11:17:37 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-25 11:17:37 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-25 09:17:37' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (47.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 11:17:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 11.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 11:17:37 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  Rendered books/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 10:00:48', '2017-09-25 10:00:48', 60668565)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 10:00:48', '2017-09-25 10:00:48', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('MyString', '2017-09-25 10:00:48', '2017-09-25 10:00:48', 298486374, 298486374)[0m
  [1m[35m (44.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:00:48 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 3409ms (Views: 3403.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 8.2ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 4.3ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 2.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 10:00:52', '2017-09-25 10:00:52')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668627
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/60668627" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"60668627"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668627 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668627[0m
  Rendered books/show.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.5ms)
  [1m[35m (47.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-25 10:00:52' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (41.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 12:00:52 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered books/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 2.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 10:00:52', '2017-09-25 10:00:52')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (40.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 10:00:52', '2017-09-25 10:00:52')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (40.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (41.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (41.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (42.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (42.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (61.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (55.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (61.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (60.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (60.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (41.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (43.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (36.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (147.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (48.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (56.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (61.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (61.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (53.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (47.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (64.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (55.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (47.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (55.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (42.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (89.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (113.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (63.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (56.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (49.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (59.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (53.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (53.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (37.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (60.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (47.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (55.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (53.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (47.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (41.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (48.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (40.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (53.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (53.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (47.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (61.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (60.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (6.4ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (56.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (62.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (47.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (43.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (48.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (43.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (49.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (36.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (48.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (37.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (47.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (47.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (63.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (57.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (50.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (47.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (79.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (41.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (43.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (54.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (55.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (52.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (42.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (43.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (43.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (76.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (48.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (63.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (47.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (66.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (81.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (52.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (58.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (36.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (58.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (37.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (57.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (37.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (54.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (55.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (37.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (43.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (55.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (53.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (62.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (63.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (119.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (47.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (59.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (52.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (48.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (46.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (51.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (2.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (3.9ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 10:16:36', '2017-09-25 10:16:36', 60668565)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-25 10:16:36', '2017-09-25 10:16:36', 60668565, 60668565)[0m
  [1m[35m (47.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 12:16:36 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 186ms (Views: 180.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:16:36 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:16:36 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 12:16:36 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 12:16:36 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 12:16:36 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:16:36 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:16:36 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 12:16:36 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 12:16:36 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:16:36 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:16:36 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 12:16:36 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (15.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 29ms (Views: 17.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:16:36 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 10:16:36', '2017-09-25 10:16:36')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (61.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 10:16:37', '2017-09-25 10:16:37')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (45.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:16:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:16:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 12:16:37 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 12:16:37 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:16:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:16:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 12:16:37 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 12:16:37 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 10:16:37', '2017-09-25 10:16:37')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668632
Completed 302 Found in 8ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/60668632" for 127.0.0.1 at 2017-09-25 12:16:37 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"60668632"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668632 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668632[0m
  Rendered books/show.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 0.4ms)
  [1m[35m (47.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:16:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:16:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 12:16:37 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 12:16:37 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:16:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:16:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 12:16:37 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-25 12:16:37 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-25 10:16:37' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (45.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (50.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (37.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (57.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (37.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (55.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (47.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (45.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (37.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (44.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (53.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.0ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (38.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (39.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (53.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[35m (66.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 10:47:19', '2017-09-25 10:47:19', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-25 10:47:19', '2017-09-25 10:47:19', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-25 10:47:19', '2017-09-25 10:47:19', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-25 10:47:19', '2017-09-25 10:47:19', 893120179, 893120179)[0m
  [1m[35m (53.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 137ms (Views: 131.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (15.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 17.0ms | ActiveRecord: 0.6ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 19ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (41.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 29ms (Views: 11.0ms | ActiveRecord: 2.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 10:47:19', '2017-09-25 10:47:19')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120180
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120180" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120180"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120180 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120180[0m
  Rendered books/show.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.4ms)
  [1m[35m (47.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered books/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (10.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 12:47:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 10:47:19', '2017-09-25 10:47:19')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (51.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 10:47:19', '2017-09-25 10:47:19')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (57.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 12:47:20 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 11:51:57', '2017-09-25 11:51:57', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-25 11:51:57', '2017-09-25 11:51:57', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-25 11:51:57', '2017-09-25 11:51:57', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-25 11:51:57', '2017-09-25 11:51:57', 893120179, 893120179)[0m
  [1m[35m (47.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 13:51:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 147ms (Views: 140.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 34ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 11:51:58', '2017-09-25 11:51:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (39.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 11:51:58', '2017-09-25 11:51:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (38.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (9.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 18ms (Views: 12.6ms | ActiveRecord: 0.5ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-25 11:51:58' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (57.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 11:51:58', '2017-09-25 11:51:58')[0m
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120185
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120185" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120185"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120185 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120185[0m
  Rendered books/show.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.5ms)
  [1m[35m (52.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered books/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 6.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 13:51:58 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.9ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (11.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 26ms (Views: 12.6ms | ActiveRecord: 1.4ms)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 12:01:30', '2017-09-25 12:01:30', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-25 12:01:30', '2017-09-25 12:01:30', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-25 12:01:30', '2017-09-25 12:01:30', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-25 12:01:30', '2017-09-25 12:01:30', 893120179, 893120179)[0m
  [1m[35m (52.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (6.7ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 152ms (Views: 146.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (20.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 24ms (Views: 23.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 12:01:30', '2017-09-25 12:01:30')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (53.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 12:01:30', '2017-09-25 12:01:30')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
BooksEditTest: test_edit_and_delete_as_non_admin
------------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
BooksEditTest: test_edit_and_delete_as_admin
--------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (39.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 12:01:30', '2017-09-25 12:01:30')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120188
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120188" for 127.0.0.1 at 2017-09-25 14:01:30 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120188"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120188 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120188[0m
  Rendered books/show.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms)
  [1m[35m (42.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-25 14:01:31 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:01:31 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:01:31 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 14:01:31 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 14:01:31 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 6.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 12:15:13', '2017-09-25 12:15:13', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-25 12:15:13', '2017-09-25 12:15:13', 893120179)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-25 12:15:13', '2017-09-25 12:15:13', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-25 12:15:13', '2017-09-25 12:15:13', 893120179, 893120179)[0m
  [1m[35m (57.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 154ms (Views: 149.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 12:15:13', '2017-09-25 12:15:13')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (47.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (3.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 12:15:13', '2017-09-25 12:15:13')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (44.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.2ms)
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 10.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered books/new.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 12:15:13', '2017-09-25 12:15:13')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120191
Completed 302 Found in 19ms (ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120191" for 127.0.0.1 at 2017-09-25 14:15:13 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120191"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120191 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120191[0m
  Rendered books/show.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.0ms | ActiveRecord: 0.7ms)
  [1m[35m (42.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:15:14 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:15:14 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 14:15:14 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (12.6ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 17.7ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 14:15:14 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 5.4ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:15:14 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:15:14 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 14:15:14 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (13.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 15.9ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-25 14:15:14 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-25 12:15:14' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (49.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 12:16:30', '2017-09-25 12:16:30', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-25 12:16:30', '2017-09-25 12:16:30', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-25 12:16:30', '2017-09-25 12:16:30', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-25 12:16:30', '2017-09-25 12:16:30', 893120179, 893120179)[0m
  [1m[35m (53.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 139ms (Views: 132.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (13.6ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (10.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 12:16:30', '2017-09-25 12:16:30')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (36.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 12:16:30', '2017-09-25 12:16:30')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (42.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 7ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.4ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (40.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 12:16:30', '2017-09-25 12:16:30')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120194
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120194" for 127.0.0.1 at 2017-09-25 14:16:30 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120194"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120194 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120194[0m
  Rendered books/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (42.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:31 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:31 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 14:16:31 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 14:16:31 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered books/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 4.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:31 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:31 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 14:16:31 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 14:16:31 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:31 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:31 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 12:16:40', '2017-09-25 12:16:40', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-25 12:16:40', '2017-09-25 12:16:40', 893120179)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-25 12:16:40', '2017-09-25 12:16:40', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-25 12:16:40', '2017-09-25 12:16:40', 893120179, 893120179)[0m
  [1m[35m (52.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-25 14:16:40 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:40 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (8.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 135ms (Views: 134.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:40 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 14:16:40 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (15.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 18.9ms | ActiveRecord: 0.8ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 14:16:40 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 33ms (Views: 4.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:40 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:40 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 14:16:40 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 14:16:40 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 12:16:40', '2017-09-25 12:16:40')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120195
Completed 302 Found in 8ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120195" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120195"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120195 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120195[0m
  Rendered books/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[35m (39.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-25 12:16:41' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[36mBook Load (2.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (42.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (1.9ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered books/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 3.7ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 9.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 14:16:41 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 12:16:41', '2017-09-25 12:16:41')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (38.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (3.7ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 12:16:41', '2017-09-25 12:16:41')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (54.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (3.0ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 12:16:57', '2017-09-25 12:16:57', 60668565)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-25 12:16:57', '2017-09-25 12:16:57', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-25 12:16:57', '2017-09-25 12:16:57', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-25 12:16:57', '2017-09-25 12:16:57', 893120179, 893120179)[0m
  [1m[35m (53.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 135ms (Views: 130.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered books/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 35ms (Views: 2.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (39.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 12:16:57', '2017-09-25 12:16:57')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120198
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120198" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120198"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120198 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120198[0m
  Rendered books/show.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.6ms)
  [1m[35m (52.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 14:16:57 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 12:16:58', '2017-09-25 12:16:58')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (37.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 12:16:58', '2017-09-25 12:16:58')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (53.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 14:16:58 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:16:58 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:16:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 14:16:58 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (1.0ms)
  Rendered books/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 12:17:24', '2017-09-25 12:17:24', 60668565)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-25 12:17:24', '2017-09-25 12:17:24', 893120179)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-25 12:17:24', '2017-09-25 12:17:24', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-25 12:17:24', '2017-09-25 12:17:24', 893120179, 893120179)[0m
  [1m[35m (68.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 170ms (Views: 163.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 10.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 12:17:24', '2017-09-25 12:17:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120201
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120201" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120201"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120201 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120201[0m
  Rendered books/show.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.3ms)
  [1m[35m (50.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 4.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (4.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (13.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 13.6ms | ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-25 14:17:24 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 10ms (ActiveRecord: 0.8ms)
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (53.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 14:17:25 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:17:25 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:17:25 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 14:17:25 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.3ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 14:17:25 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 14:17:25 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:17:25 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:17:25 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 14:17:25 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 14:17:25 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:17:25 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 14:17:25 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 14:17:25 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 12:17:25', '2017-09-25 12:17:25')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (36.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 12:17:25', '2017-09-25 12:17:25')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (42.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 14:17:25 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 13:03:49', '2017-09-25 13:03:49', 60668565)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-25 13:03:49', '2017-09-25 13:03:49', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-25 13:03:49', '2017-09-25 13:03:49', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-25 13:03:49', '2017-09-25 13:03:49', 893120179, 893120179)[0m
  [1m[35m (51.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 13:03:49', '2017-09-25 13:03:49')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (44.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 13:03:49', '2017-09-25 13:03:49')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (36.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 135ms (Views: 130.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.6ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 35ms (Views: 7.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 13:03:50', '2017-09-25 13:03:50')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120206
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120206" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120206"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120206 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120206[0m
  Rendered books/show.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.4ms)
  [1m[35m (52.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-25 13:03:50' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (39.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered books/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (4.7ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (11.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 26ms (Views: 15.1ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 14.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 15:03:50 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-25 13:07:51', '2017-09-25 13:07:51', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-25 13:07:51', '2017-09-25 13:07:51', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-25 13:07:51', '2017-09-25 13:07:51', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-25 13:07:51', '2017-09-25 13:07:51', 893120179, 893120179)[0m
  [1m[35m (51.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 186ms (Views: 180.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-25 13:07:51', '2017-09-25 13:07:51')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120207
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120207" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120207"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120207 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120207[0m
  Rendered books/show.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.4ms)
  [1m[35m (51.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 15.9ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (39.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 2.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 15:07:51 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 13:07:51', '2017-09-25 13:07:51')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (47.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-25 13:07:52', '2017-09-25 13:07:52')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (49.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 15:07:52 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-25 15:07:52 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  Rendered books/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-25 15:07:52 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-25 15:07:52 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-25 15:07:52 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (10.0ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 10:41:33', '2017-09-26 10:41:33', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 10:41:33', '2017-09-26 10:41:33', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 10:41:33', '2017-09-26 10:41:33', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 10:41:33', '2017-09-26 10:41:33', 893120179, 893120179)[0m
  [1m[35m (41.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 12:41:33 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.4ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 137ms (Views: 132.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (13.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 25ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 10:41:34', '2017-09-26 10:41:34')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120180
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120180" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120180"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120180 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120180[0m
  Rendered books/show.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 2.4ms | ActiveRecord: 0.3ms)
  [1m[35m (45.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 2.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 10:41:34' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (40.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 10:41:34', '2017-09-26 10:41:34')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (45.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 10:41:34', '2017-09-26 10:41:34')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (46.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (1.4ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 12:41:34 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 10:42:09', '2017-09-26 10:42:09', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 10:42:09', '2017-09-26 10:42:09', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 10:42:09', '2017-09-26 10:42:09', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 10:42:09', '2017-09-26 10:42:09', 893120179, 893120179)[0m
  [1m[35m (81.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (11.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 134ms (Views: 128.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (20.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 29ms (Views: 27.0ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 10:42:09', '2017-09-26 10:42:09')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120183
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120183" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120183"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120183 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120183[0m
  Rendered books/show.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.7ms)
  [1m[35m (42.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (38.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 2.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 12:42:09 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 4.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 10:42:09', '2017-09-26 10:42:09')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (42.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 10:42:09', '2017-09-26 10:42:09')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (72.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 11:06:24', '2017-09-26 11:06:24', 60668565)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 11:06:24', '2017-09-26 11:06:24', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 11:06:24', '2017-09-26 11:06:24', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 11:06:24', '2017-09-26 11:06:24', 893120179, 893120179)[0m
  [1m[35m (38.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
SearchTest: test_search_layout
------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 107ms (Views: 102.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 20ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 11:06:24', '2017-09-26 11:06:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120186
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120186" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120186"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120186 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120186[0m
  Rendered books/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[35m (38.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (37.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered books/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 3.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:06:24 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:06:24', '2017-09-26 11:06:24')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:06:24', '2017-09-26 11:06:24')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (44.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 11:07:11', '2017-09-26 11:07:11', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 11:07:11', '2017-09-26 11:07:11', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 11:07:11', '2017-09-26 11:07:11', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 11:07:11', '2017-09-26 11:07:11', 893120179, 893120179)[0m
  [1m[35m (57.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
SearchTest: test_search_layout
------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (11.7ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 133ms (Views: 127.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (11.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 13.7ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (52.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered books/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 11:07:11', '2017-09-26 11:07:11')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120189
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120189" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120189"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120189 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120189[0m
  Rendered books/show.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.5ms)
  [1m[35m (40.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 18.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:07:11', '2017-09-26 11:07:11')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (36.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:07:11', '2017-09-26 11:07:11')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (6.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:07:11 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 11:27:49', '2017-09-26 11:27:49', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 11:27:49', '2017-09-26 11:27:49', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 11:27:49', '2017-09-26 11:27:49', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 11:27:49', '2017-09-26 11:27:49', 893120179, 893120179)[0m
  [1m[35m (45.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 126ms (Views: 120.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 11:27:49', '2017-09-26 11:27:49')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120192
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120192" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120192"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120192 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120192[0m
  Rendered books/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.3ms)
  [1m[35m (44.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (44.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:27:49 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:27:49', '2017-09-26 11:27:49')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (39.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:27:49', '2017-09-26 11:27:49')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (43.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:27:50 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------
SearchTest: test_successful_search
----------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 13:27:50 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/search" for 127.0.0.1 at 2017-09-26 13:27:50 +0200
Processing by BooksController#index as HTML
  Parameters: {"params"=>{"search"=>"cats"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:27:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:27:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:27:50 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:27:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:27:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:27:50 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.3ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 13:27:50 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:27:50 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:27:50 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:27:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:27:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:27:50 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 11:28:06', '2017-09-26 11:28:06', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 11:28:06', '2017-09-26 11:28:06', 893120179)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 11:28:06', '2017-09-26 11:28:06', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 11:28:06', '2017-09-26 11:28:06', 893120179, 893120179)[0m
  [1m[35m (43.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 126ms (Views: 120.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:28:07', '2017-09-26 11:28:07')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (40.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:28:07', '2017-09-26 11:28:07')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------
SearchTest: test_successful_search
----------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 11:28:07', '2017-09-26 11:28:07')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120197
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120197" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120197"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120197 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120197[0m
  Rendered books/show.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 3.5ms | ActiveRecord: 0.7ms)
  [1m[35m (52.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 11:28:07' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (44.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:28:07 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 11:28:23', '2017-09-26 11:28:23', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 11:28:23', '2017-09-26 11:28:23', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 11:28:23', '2017-09-26 11:28:23', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 11:28:23', '2017-09-26 11:28:23', 893120179, 893120179)[0m
  [1m[35m (95.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:28:23', '2017-09-26 11:28:23')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (50.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:28:23', '2017-09-26 11:28:23')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (46.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (14.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 112ms (Views: 106.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.3ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (7.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 8.4ms | ActiveRecord: 0.5ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 11:28:23', '2017-09-26 11:28:23')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120200
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120200" for 127.0.0.1 at 2017-09-26 13:28:23 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120200"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120200 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120200[0m
  Rendered books/show.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.5ms)
  [1m[35m (54.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:28:24 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:28:24 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:28:24 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 13:28:24 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 11:28:24' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (48.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:28:24 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------
SearchTest: test_successful_search
----------------------------------
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 13:28:24 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 11:30:26', '2017-09-26 11:30:26', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 11:30:26', '2017-09-26 11:30:26', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 11:30:26', '2017-09-26 11:30:26', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 11:30:26', '2017-09-26 11:30:26', 893120179, 893120179)[0m
  [1m[35m (51.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (11.8ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 115ms (Views: 108.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (16.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 17.0ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:30:27', '2017-09-26 11:30:27')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:30:27', '2017-09-26 11:30:27')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (39.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------
SearchTest: test_successful_search
----------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/search" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by BooksController#index as HTML
  Parameters: {"params"=>{"search"=>"cats"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (1.1ms)
  Rendered books/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered books/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 13.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 11:30:27' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (40.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 11:30:27', '2017-09-26 11:30:27')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120203
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120203" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120203"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120203 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120203[0m
  Rendered books/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (44.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 6.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:30:27 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 11:33:33', '2017-09-26 11:33:33', 60668565)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 11:33:33', '2017-09-26 11:33:33', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 11:33:33', '2017-09-26 11:33:33', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 11:33:33', '2017-09-26 11:33:33', 893120179, 893120179)[0m
  [1m[35m (54.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:33:33', '2017-09-26 11:33:33')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (42.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:33:33', '2017-09-26 11:33:33')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (44.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (39.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 126ms (Views: 120.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (38.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (11.9ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 4.0ms | ActiveRecord: 12.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 11:33:33', '2017-09-26 11:33:33')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120206
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120206" for 127.0.0.1 at 2017-09-26 13:33:33 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120206"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120206 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120206[0m
  Rendered books/show.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.9ms)
  [1m[35m (47.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------
SearchTest: test_successful_search
----------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 13:33:34 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/search" for 127.0.0.1 at 2017-09-26 13:33:34 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 2.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:33:34 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:33:34 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (4.9ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:33:34 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:33:34 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:33:34 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 11:36:37', '2017-09-26 11:36:37', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 11:36:37', '2017-09-26 11:36:37', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 11:36:37', '2017-09-26 11:36:37', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 11:36:37', '2017-09-26 11:36:37', 893120179, 893120179)[0m
  [1m[35m (53.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (20.0ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 112ms (Views: 105.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (17.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 18.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------
SearchTest: test_successful_search
----------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/search" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 1.7ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (1.0ms)
  Rendered books/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 11:36:37', '2017-09-26 11:36:37')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120207
Completed 302 Found in 17ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120207" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120207"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120207 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120207[0m
  Rendered books/show.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.4ms)
  [1m[35m (39.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 6.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (42.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.4ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:36:37 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:36:37', '2017-09-26 11:36:37')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (40.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:36:37', '2017-09-26 11:36:37')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (45.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 11:38:41', '2017-09-26 11:38:41', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 11:38:41', '2017-09-26 11:38:41', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 11:38:41', '2017-09-26 11:38:41', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 11:38:41', '2017-09-26 11:38:41', 893120179, 893120179)[0m
  [1m[35m (50.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (43.6ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 144ms (Views: 137.7ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.3ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 11:38:41', '2017-09-26 11:38:41')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120210
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120210" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120210"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120210 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120210[0m
  Rendered books/show.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.3ms)
  [1m[35m (47.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.5ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (50.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:38:41', '2017-09-26 11:38:41')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (50.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:38:41', '2017-09-26 11:38:41')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (50.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------
SearchTest: test_successful_search
----------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/search" for 127.0.0.1 at 2017-09-26 13:38:41 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 2.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 11:41:02', '2017-09-26 11:41:02', 60668565)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 11:41:02', '2017-09-26 11:41:02', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 11:41:02', '2017-09-26 11:41:02', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 11:41:02', '2017-09-26 11:41:02', 893120179, 893120179)[0m
  [1m[35m (57.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 103ms (Views: 93.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (17.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 19.3ms | ActiveRecord: 0.6ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 3.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (53.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered books/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 16.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 11:41:02', '2017-09-26 11:41:02')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120213
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120213" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120213"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120213 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120213[0m
  Rendered books/show.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[35m (43.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------
SearchTest: test_successful_search
----------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/search" for 127.0.0.1 at 2017-09-26 13:41:02 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 1.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:41:02', '2017-09-26 11:41:02')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (37.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:41:03', '2017-09-26 11:41:03')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (46.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:41:03 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:41:03 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:41:03 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.4ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 13:41:03 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:41:03 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:41:03 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:41:03 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:41:03 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:41:03 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:41:03 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:41:03 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:41:03 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 13:41:03 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (9.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:41:03 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:41:03 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (1.8ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 11:41:19', '2017-09-26 11:41:19', 60668565)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 11:41:19', '2017-09-26 11:41:19', 893120179)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 11:41:19', '2017-09-26 11:41:19', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 11:41:19', '2017-09-26 11:41:19', 893120179, 893120179)[0m
  [1m[35m (60.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:41:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 134ms (Views: 129.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:41:19 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (1.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (15.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 15.8ms | ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------
SearchTest: test_successful_search
----------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/search" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 1.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.3ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 3.6ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 11:41:20', '2017-09-26 11:41:20')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120216
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120216" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120216"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120216 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120216[0m
  Rendered books/show.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[35m (51.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 11:41:20' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (45.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 13:41:20 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:41:20', '2017-09-26 11:41:20')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (51.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 11:41:20', '2017-09-26 11:41:20')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (50.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 12:21:55', '2017-09-26 12:21:55', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 12:21:55', '2017-09-26 12:21:55', 893120179)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 12:21:55', '2017-09-26 12:21:55', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 12:21:55', '2017-09-26 12:21:55', 893120179, 893120179)[0m
  [1m[35m (47.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------
SearchTest: test_successful_search
----------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 107ms (Views: 101.8ms | ActiveRecord: 0.0ms)
Started POST "/search" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 1.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (12.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (7.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:21:56', '2017-09-26 12:21:56')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (57.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:21:56', '2017-09-26 12:21:56')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (49.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 5.8ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 12:21:56' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (70.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 12:21:56', '2017-09-26 12:21:56')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120221
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120221" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120221"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120221 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120221[0m
  Rendered books/show.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.4ms)
  [1m[35m (48.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.3ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:21:56 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 12:23:05', '2017-09-26 12:23:05', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 12:23:05', '2017-09-26 12:23:05', 893120179)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 12:23:05', '2017-09-26 12:23:05', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 12:23:05', '2017-09-26 12:23:05', 893120179, 893120179)[0m
  [1m[35m (51.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (12.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 149ms (Views: 144.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (16.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 17.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (6.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (43.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 2.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 12:23:05', '2017-09-26 12:23:05')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120222
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120222" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120222"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120222 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120222[0m
  Rendered books/show.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.6ms)
  [1m[35m (46.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (29.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 34ms (Views: 30.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------
SearchTest: test_successful_search
----------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/search" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 8.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:23:05 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:23:05', '2017-09-26 12:23:05')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (42.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (4.0ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:23:06', '2017-09-26 12:23:06')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (38.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:23:06 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.3ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 12:25:43', '2017-09-26 12:25:43', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 12:25:43', '2017-09-26 12:25:43', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 12:25:43', '2017-09-26 12:25:43', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 12:25:43', '2017-09-26 12:25:43', 893120179, 893120179)[0m
  [1m[35m (48.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 124ms (Views: 123.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (12.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 5.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 12:25:43', '2017-09-26 12:25:43')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120225
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120225" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120225"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120225 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120225[0m
  Rendered books/show.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[35m (50.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (46.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 7.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------
SearchTest: test_successful_search
----------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/search" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  Rendered books/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 1.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:25:43', '2017-09-26 12:25:43')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (49.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:25:43', '2017-09-26 12:25:43')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (49.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:25:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 12:41:28', '2017-09-26 12:41:28', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 12:41:28', '2017-09-26 12:41:28', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 12:41:28', '2017-09-26 12:41:28', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 12:41:28', '2017-09-26 12:41:28', 893120179, 893120179)[0m
  [1m[35m (42.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 114ms (Views: 107.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.9ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (16.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 16.8ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 6.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------
SearchTest: test_successful_search
----------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
Started POST "/search" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.3ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:41:28', '2017-09-26 12:41:28')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (44.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (12.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:41:28', '2017-09-26 12:41:28')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (42.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (2.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 6.2ms | ActiveRecord: 2.3ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (40.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 12:41:28', '2017-09-26 12:41:28')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120230
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120230" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120230"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120230 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (1.4ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120230[0m
  Rendered books/show.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 1.6ms)
  [1m[35m (42.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 14:41:28 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (1.2ms)
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (16.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 17.6ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 12:42:00', '2017-09-26 12:42:00', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 12:42:00', '2017-09-26 12:42:00', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 12:42:00', '2017-09-26 12:42:00', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 12:42:00', '2017-09-26 12:42:00', 893120179, 893120179)[0m
  [1m[35m (59.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.6ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 145ms (Views: 140.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (16.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------
SearchTest: test_successful_search
----------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 3.6ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:42:00', '2017-09-26 12:42:00')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (47.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:42:00', '2017-09-26 12:42:00')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered books/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (17.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 18.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 12:42:00', '2017-09-26 12:42:00')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120233
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120233" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120233"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120233 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120233[0m
  Rendered books/show.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.5ms)
  [1m[35m (39.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.5ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 4.6ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.8ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 14:42:00 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (42.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 12:42:14', '2017-09-26 12:42:14', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 12:42:14', '2017-09-26 12:42:14', 893120179)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 12:42:14', '2017-09-26 12:42:14', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 12:42:14', '2017-09-26 12:42:14', 893120179, 893120179)[0m
  [1m[35m (62.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:42:14 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 125ms (Views: 120.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:42:14 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:42:14 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:42:14 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:42:14 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (12.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 14:42:14 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (2.7ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 10ms (ActiveRecord: 3.4ms)
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (44.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:42:14 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:42:14 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:42:14 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:42:14 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 14:42:14 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:42:14 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:42:14 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:42:14 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:42:14 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 12:42:14', '2017-09-26 12:42:14')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120234
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120234" for 127.0.0.1 at 2017-09-26 14:42:14 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120234"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120234 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120234[0m
  Rendered books/show.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (38.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:42:14 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.7ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------
SearchTest: test_successful_search
----------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 2.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (7.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:42:15', '2017-09-26 12:42:15')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (50.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:42:15', '2017-09-26 12:42:15')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (42.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (8.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 21ms (Views: 20.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.4ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:42:15 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 12:48:25', '2017-09-26 12:48:25', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 12:48:25', '2017-09-26 12:48:25', 893120179)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 12:48:25', '2017-09-26 12:48:25', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 12:48:25', '2017-09-26 12:48:25', 893120179, 893120179)[0m
  [1m[35m (42.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:25 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.5ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 119ms (Views: 106.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:48:25 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:48:25 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:48:25 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (9.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 11.1ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:25 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 14:48:25 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:25 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:48:25 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:48:25 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:48:25 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 12:48:25', '2017-09-26 12:48:25')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120237
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120237" for 127.0.0.1 at 2017-09-26 14:48:25 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120237"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120237 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120237[0m
  Rendered books/show.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[35m (53.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:25 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:48:25 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:48:25 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 14:48:25 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 3.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:25 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered books/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.1ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 12:48:26' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (50.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.3ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:48:26 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:48:26', '2017-09-26 12:48:26')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (43.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:48:26', '2017-09-26 12:48:26')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (51.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 12:48:43', '2017-09-26 12:48:43', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 12:48:43', '2017-09-26 12:48:43', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 12:48:43', '2017-09-26 12:48:43', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 12:48:43', '2017-09-26 12:48:43', 893120179, 893120179)[0m
  [1m[35m (46.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 134ms (Views: 128.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (16.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 17.7ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.3ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:48:44', '2017-09-26 12:48:44')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (48.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:48:44', '2017-09-26 12:48:44')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (53.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 2.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 0.5ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 12:48:44' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 9ms (ActiveRecord: 3.1ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (47.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 12:48:44', '2017-09-26 12:48:44')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120242
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120242" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120242"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120242 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120242[0m
  Rendered books/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.4ms)
  [1m[35m (53.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 4.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:48:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 12:50:20', '2017-09-26 12:50:20', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 12:50:20', '2017-09-26 12:50:20', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 12:50:20', '2017-09-26 12:50:20', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 12:50:20', '2017-09-26 12:50:20', 893120179, 893120179)[0m
  [1m[35m (49.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (11.7ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 132ms (Views: 118.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:50:20', '2017-09-26 12:50:20')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (43.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:50:20', '2017-09-26 12:50:20')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (16.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (42.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (14.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 16.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 12:50:20', '2017-09-26 12:50:20')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120245
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120245" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120245"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120245 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120245[0m
  Rendered books/show.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[35m (45.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.4ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:50:21 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:50:21 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:50:21 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 21ms (Views: 12.5ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:50:21 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:50:21 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 12:50:43', '2017-09-26 12:50:43', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 12:50:43', '2017-09-26 12:50:43', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 12:50:43', '2017-09-26 12:50:43', 60668565, 60668565)[0m
  [1m[36mFixture Insert (3.0ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 12:50:43', '2017-09-26 12:50:43', 893120179, 893120179)[0m
  [1m[35m (46.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (26.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 160ms (Views: 154.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 2.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.0ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:50:43', '2017-09-26 12:50:43')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (49.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:50:43', '2017-09-26 12:50:43')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (45.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:50:43 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:50:44 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered books/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:50:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:50:44 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:50:44 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 12:50:44', '2017-09-26 12:50:44')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120248
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120248" for 127.0.0.1 at 2017-09-26 14:50:44 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120248"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120248 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120248[0m
  Rendered books/show.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[35m (51.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:50:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:50:44 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 14:50:44 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 4.8ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 14:50:44 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:50:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:50:44 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 14:50:44 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 12:50:44' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 17ms (ActiveRecord: 0.9ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (52.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:50:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:50:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 12:53:18', '2017-09-26 12:53:18', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 12:53:18', '2017-09-26 12:53:18', 893120179)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 12:53:18', '2017-09-26 12:53:18', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 12:53:18', '2017-09-26 12:53:18', 893120179, 893120179)[0m
  [1m[35m (89.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:53:18 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (9.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 106ms (Views: 100.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (19.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 23ms (Views: 20.9ms | ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 4.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 12:53:19' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (42.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 12:53:19', '2017-09-26 12:53:19')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120249
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120249" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120249"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120249 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120249[0m
  Rendered books/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.3ms)
  [1m[35m (44.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 3.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:53:19 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:53:19', '2017-09-26 12:53:19')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (42.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:53:19', '2017-09-26 12:53:19')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (43.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 12:55:06', '2017-09-26 12:55:06', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 12:55:06', '2017-09-26 12:55:06', 893120179)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 12:55:06', '2017-09-26 12:55:06', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 12:55:06', '2017-09-26 12:55:06', 893120179, 893120179)[0m
  [1m[35m (48.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:55:06 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 107ms (Views: 101.3ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:55:06 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (10.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 11.2ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 4.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 12:55:07' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (43.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 12:55:07', '2017-09-26 12:55:07')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120252
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120252" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120252"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120252 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120252[0m
  Rendered books/show.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.5ms)
  [1m[35m (42.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:55:07', '2017-09-26 12:55:07')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (44.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:55:07', '2017-09-26 12:55:07')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (44.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:55:07 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 12:58:08', '2017-09-26 12:58:08', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 12:58:08', '2017-09-26 12:58:08', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 12:58:08', '2017-09-26 12:58:08', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 12:58:08', '2017-09-26 12:58:08', 893120179, 893120179)[0m
  [1m[35m (50.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (35.6ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 123ms (Views: 117.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 8.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (42.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 12:58:08', '2017-09-26 12:58:08')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120255
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120255" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120255"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120255 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120255[0m
  Rendered books/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.3ms)
  [1m[35m (37.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (1.1ms)
  Rendered books/new.html.erb within layouts/application (17.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 24ms (Views: 20.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 4.3ms | ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 2.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:58:08 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:58:08', '2017-09-26 12:58:08')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (48.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:58:08', '2017-09-26 12:58:08')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (45.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:09 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:58:09 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 12:58:29', '2017-09-26 12:58:29', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 12:58:29', '2017-09-26 12:58:29', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 12:58:29', '2017-09-26 12:58:29', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 12:58:29', '2017-09-26 12:58:29', 893120179, 893120179)[0m
  [1m[35m (47.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (29.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 168ms (Views: 160.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 2.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:58:29', '2017-09-26 12:58:29')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:58:29', '2017-09-26 12:58:29')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (18.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 24ms (Views: 20.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 12:58:29', '2017-09-26 12:58:29')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120260
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120260" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120260"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120260 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120260[0m
  Rendered books/show.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[35m (40.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 14:58:29 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[36mBook Load (2.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (38.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:58:30 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:58:30 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:58:30 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:58:30 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 12:59:02', '2017-09-26 12:59:02', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 12:59:02', '2017-09-26 12:59:02', 893120179)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 12:59:02', '2017-09-26 12:59:02', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 12:59:02', '2017-09-26 12:59:02', 893120179, 893120179)[0m
  [1m[35m (55.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:59:02', '2017-09-26 12:59:02')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (49.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:59:02', '2017-09-26 12:59:02')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (49.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 92ms (Views: 87.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (17.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 18.6ms | ActiveRecord: 0.9ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (47.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 12:59:02', '2017-09-26 12:59:02')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120263
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120263" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120263"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120263 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120263[0m
  Rendered books/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (49.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (15.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 16.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.6ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 4.9ms | ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:59:02 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:03 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:59:03 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:59:03 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:59:03 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 12:59:15', '2017-09-26 12:59:15', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 12:59:15', '2017-09-26 12:59:15', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 12:59:15', '2017-09-26 12:59:15', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 12:59:15', '2017-09-26 12:59:15', 893120179, 893120179)[0m
  [1m[35m (50.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (33.6ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 136ms (Views: 129.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 2.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.4ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:59:15', '2017-09-26 12:59:15')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 12:59:15', '2017-09-26 12:59:15')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (39.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 2.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 0.6ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (42.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 9.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 12:59:15', '2017-09-26 12:59:15')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120266
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120266" for 127.0.0.1 at 2017-09-26 14:59:15 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120266"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120266 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120266[0m
  Rendered books/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (38.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 13:06:54', '2017-09-26 13:06:54', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 13:06:54', '2017-09-26 13:06:54', 893120179)[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 13:06:54', '2017-09-26 13:06:54', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 13:06:54', '2017-09-26 13:06:54', 893120179, 893120179)[0m
  [1m[35m (52.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 111ms (Views: 105.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (18.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 18.3ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (7.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 13:06:54', '2017-09-26 13:06:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120267
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120267" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120267"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120267 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120267[0m
  Rendered books/show.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 4.5ms | ActiveRecord: 0.9ms)
  [1m[35m (53.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.7ms | ActiveRecord: 1.3ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 0.6ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (39.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 3.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 2.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:06:54', '2017-09-26 13:06:54')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (38.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:06:54', '2017-09-26 13:06:54')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:06:54 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (6.4ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 13:07:09', '2017-09-26 13:07:09', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 13:07:09', '2017-09-26 13:07:09', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 13:07:09', '2017-09-26 13:07:09', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 13:07:09', '2017-09-26 13:07:09', 893120179, 893120179)[0m
  [1m[35m (60.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:09 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (16.7ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 152ms (Views: 145.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (8.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 9.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 13:07:10', '2017-09-26 13:07:10')[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120270
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120270" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120270"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120270 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120270[0m
  Rendered books/show.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.4ms)
  [1m[35m (52.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 13:07:10' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (53.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:07:10', '2017-09-26 13:07:10')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (50.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:07:10', '2017-09-26 13:07:10')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (53.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:07:10 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 13:07:43', '2017-09-26 13:07:43', 60668565)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 13:07:43', '2017-09-26 13:07:43', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 13:07:43', '2017-09-26 13:07:43', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 13:07:43', '2017-09-26 13:07:43', 893120179, 893120179)[0m
  [1m[35m (52.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (10.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 113ms (Views: 108.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:07:43', '2017-09-26 13:07:43')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (40.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:07:43', '2017-09-26 13:07:43')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (44.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (2.6ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (8.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 7.0ms | ActiveRecord: 3.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.7ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.9ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered books/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (8.4ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (14.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 16.2ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 5.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 13:07:43', '2017-09-26 13:07:43')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120275
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120275" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120275"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120275 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120275[0m
  Rendered books/show.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.3ms)
  [1m[35m (43.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 15:07:43 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (42.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 13:08:44', '2017-09-26 13:08:44', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 13:08:44', '2017-09-26 13:08:44', 893120179)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 13:08:44', '2017-09-26 13:08:44', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 13:08:44', '2017-09-26 13:08:44', 893120179, 893120179)[0m
  [1m[35m (44.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (15.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 125ms (Views: 119.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (11.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 13.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (4.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.3ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:08:44', '2017-09-26 13:08:44')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (38.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:08:44', '2017-09-26 13:08:44')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (50.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (50.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:08:44 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:08:45 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 4.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:08:45 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:08:45 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:08:45 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 15:08:45 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 15:08:45 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:08:45 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:08:45 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:08:45 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:08:45 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 13:08:45', '2017-09-26 13:08:45')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120278
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120278" for 127.0.0.1 at 2017-09-26 15:08:45 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120278"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120278 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120278[0m
  Rendered books/show.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.3ms)
  [1m[35m (50.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:08:45 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:08:45 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (2.8ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 13:10:09', '2017-09-26 13:10:09', 60668565)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 13:10:09', '2017-09-26 13:10:09', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 13:10:09', '2017-09-26 13:10:09', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 13:10:09', '2017-09-26 13:10:09', 893120179, 893120179)[0m
  [1m[35m (49.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (21.8ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 131ms (Views: 124.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:10:09 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:10:10', '2017-09-26 13:10:10')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (44.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:10:10', '2017-09-26 13:10:10')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (43.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (7.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 13:10:10' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (39.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 7.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 13:10:10', '2017-09-26 13:10:10')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120281
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120281" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120281"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120281 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120281[0m
  Rendered books/show.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.4ms)
  [1m[35m (58.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered books/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 5.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:10:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 13:10:26', '2017-09-26 13:10:26', 60668565)[0m
  [1m[36mFixture Insert (2.0ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 13:10:26', '2017-09-26 13:10:26', 893120179)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 13:10:26', '2017-09-26 13:10:26', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 13:10:26', '2017-09-26 13:10:26', 893120179, 893120179)[0m
  [1m[35m (47.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (17.5ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 125ms (Views: 120.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (16.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 16.9ms | ActiveRecord: 0.7ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 2.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:10:26 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (6.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 0.6ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 15:10:27 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 4.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:10:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:10:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:10:27 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 15:10:27 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 13:10:27' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (41.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:10:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:10:27 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:10:27 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered books/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 4.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:10:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:10:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:10:27 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:10:27 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 13:10:27', '2017-09-26 13:10:27')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120282
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120282" for 127.0.0.1 at 2017-09-26 15:10:27 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120282"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120282 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120282[0m
  Rendered books/show.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.5ms)
  [1m[35m (42.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:10:27 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:10:27', '2017-09-26 13:10:27')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (40.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:10:27', '2017-09-26 13:10:27')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (42.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 13:11:26', '2017-09-26 13:11:26', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 13:11:26', '2017-09-26 13:11:26', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 13:11:26', '2017-09-26 13:11:26', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 13:11:26', '2017-09-26 13:11:26', 893120179, 893120179)[0m
  [1m[35m (52.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:11:26', '2017-09-26 13:11:26')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (37.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:11:26', '2017-09-26 13:11:26')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (38.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (7.7ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 106ms (Views: 100.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 13:11:26', '2017-09-26 13:11:26')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120287
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120287" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120287"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120287 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120287[0m
  Rendered books/show.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.3ms | ActiveRecord: 0.4ms)
  [1m[35m (47.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (47.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 14.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:11:26 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:11:27 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered books/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:27 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:27 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.3ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 15:11:27 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:27 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:27 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:27 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:11:27 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:11:27 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 3.0ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:11:27 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:11:27 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:27 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 13:11:37', '2017-09-26 13:11:37', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 13:11:37', '2017-09-26 13:11:37', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 13:11:37', '2017-09-26 13:11:37', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 13:11:37', '2017-09-26 13:11:37', 893120179, 893120179)[0m
  [1m[35m (46.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (15.9ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 128ms (Views: 119.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 13:11:37', '2017-09-26 13:11:37')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120288
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120288" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120288"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120288 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120288[0m
  Rendered books/show.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.3ms)
  [1m[35m (51.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.8ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (13.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 14.6ms | ActiveRecord: 0.9ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 7.7ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (10.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 12.4ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (44.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:11:37 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered books/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 5.0ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:11:37', '2017-09-26 13:11:37')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (40.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:11:38', '2017-09-26 13:11:38')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.5ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 2.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:11:38 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 13:11:47', '2017-09-26 13:11:47', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 13:11:47', '2017-09-26 13:11:47', 893120179)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 13:11:47', '2017-09-26 13:11:47', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 13:11:47', '2017-09-26 13:11:47', 893120179, 893120179)[0m
  [1m[35m (51.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 117ms (Views: 111.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 13:11:47', '2017-09-26 13:11:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120291
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120291" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120291"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120291 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120291[0m
  Rendered books/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[35m (51.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (52.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (3.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered books/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 3.6ms | ActiveRecord: 4.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 4.5ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:11:47', '2017-09-26 13:11:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (42.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:11:47', '2017-09-26 13:11:47')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (40.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 5.7ms | ActiveRecord: 0.4ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:11:47 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 13:11:56', '2017-09-26 13:11:56', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 13:11:56', '2017-09-26 13:11:56', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 13:11:56', '2017-09-26 13:11:56', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 13:11:56', '2017-09-26 13:11:56', 893120179, 893120179)[0m
  [1m[35m (78.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 93ms (Views: 88.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (15.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:11:57', '2017-09-26 13:11:57')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (46.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:11:57', '2017-09-26 13:11:57')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (50.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 2.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 2.9ms | ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 13:11:57', '2017-09-26 13:11:57')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120296
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120296" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120296"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120296 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120296[0m
  Rendered books/show.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 3.6ms | ActiveRecord: 0.5ms)
  [1m[35m (40.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (1.1ms)
  Rendered books/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (1.8ms)
  Rendered books/new.html.erb within layouts/application (6.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 8.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (2.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 6.7ms | ActiveRecord: 3.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (12.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 13.2ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 15:11:57 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 13:11:57' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (42.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 13:12:43', '2017-09-26 13:12:43', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 13:12:43', '2017-09-26 13:12:43', 893120179)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 13:12:43', '2017-09-26 13:12:43', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 13:12:43', '2017-09-26 13:12:43', 893120179, 893120179)[0m
  [1m[35m (58.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (14.5ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 116ms (Views: 110.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (6.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (6.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 13:12:44' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (81.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 13:12:44', '2017-09-26 13:12:44')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120297
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120297" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120297"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120297 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120297[0m
  Rendered books/show.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.4ms)
  [1m[35m (46.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered books/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:12:44', '2017-09-26 13:12:44')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (83.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:12:44', '2017-09-26 13:12:44')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (18.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 19.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.4ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:12:44 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.8ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 13:13:58', '2017-09-26 13:13:58', 60668565)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 13:13:58', '2017-09-26 13:13:58', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 13:13:58', '2017-09-26 13:13:58', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 13:13:58', '2017-09-26 13:13:58', 893120179, 893120179)[0m
  [1m[35m (50.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:13:58 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 107ms (Views: 101.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:13:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:13:58 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:13:58 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 2.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 15:13:58 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:13:58 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:13:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:13:58 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 15:13:58 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:13:58 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:13:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:13:58 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:13:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:13:58 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:13:58 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 13:13:58', '2017-09-26 13:13:58')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120300
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120300" for 127.0.0.1 at 2017-09-26 15:13:58 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120300"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120300 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.4ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120300[0m
  Rendered books/show.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.6ms)
  [1m[35m (43.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 13:13:59' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (37.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.5ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:13:59', '2017-09-26 13:13:59')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (39.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:13:59', '2017-09-26 13:13:59')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (37.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.5ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 2.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:13:59 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (17.6ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (19.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 23ms (Views: 3.6ms | ActiveRecord: 17.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 13:14:20', '2017-09-26 13:14:20', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 13:14:20', '2017-09-26 13:14:20', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 13:14:20', '2017-09-26 13:14:20', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 13:14:20', '2017-09-26 13:14:20', 893120179, 893120179)[0m
  [1m[35m (57.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:14:20 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (2.9ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (3.9ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (22.8ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 148ms (Views: 133.8ms | ActiveRecord: 7.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:14:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:14:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:14:20 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:14:20 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:14:20 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:14:20 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:14:20 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:14:20 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:14:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:14:20 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:14:20 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:14:20', '2017-09-26 13:14:20')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (46.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:14:21', '2017-09-26 13:14:21')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (55.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.4ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 13:14:21', '2017-09-26 13:14:21')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120305
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120305" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120305"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120305 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120305[0m
  Rendered books/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.3ms)
  [1m[35m (58.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 30ms (Views: 28.4ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 13:14:21' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (53.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 15:14:21 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 5.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 13:15:07', '2017-09-26 13:15:07', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 13:15:07', '2017-09-26 13:15:07', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 13:15:07', '2017-09-26 13:15:07', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 13:15:07', '2017-09-26 13:15:07', 893120179, 893120179)[0m
  [1m[35m (40.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:15:07', '2017-09-26 13:15:07')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (38.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:15:07', '2017-09-26 13:15:07')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 100ms (Views: 94.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 13:15:08', '2017-09-26 13:15:08')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120308
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120308" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120308"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120308 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120308[0m
  Rendered books/show.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.3ms)
  [1m[35m (118.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (6.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.4ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 13:15:08' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (37.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (6.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.6ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 2.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:15:08 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 13:15:15', '2017-09-26 13:15:15', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 13:15:15', '2017-09-26 13:15:15', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 13:15:15', '2017-09-26 13:15:15', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 13:15:15', '2017-09-26 13:15:15', 893120179, 893120179)[0m
  [1m[35m (58.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (35.8ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 151ms (Views: 144.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:15:16', '2017-09-26 13:15:16')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (40.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:15:16', '2017-09-26 13:15:16')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (44.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered books/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 13:15:16', '2017-09-26 13:15:16')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120311
Completed 302 Found in 18ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120311" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120311"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120311 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120311[0m
  Rendered books/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.2ms)
  [1m[35m (44.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 13:15:16' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 7ms (ActiveRecord: 1.5ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (50.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.4ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.6ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 3.6ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:15:16 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 13:15:49', '2017-09-26 13:15:49', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 13:15:49', '2017-09-26 13:15:49', 893120179)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 13:15:49', '2017-09-26 13:15:49', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 13:15:49', '2017-09-26 13:15:49', 893120179, 893120179)[0m
  [1m[35m (54.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 106ms (Views: 100.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (8.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 9.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.3ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (4.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:15:50', '2017-09-26 13:15:50')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (43.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:15:50', '2017-09-26 13:15:50')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (40.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered books/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 13:15:50', '2017-09-26 13:15:50')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120314
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120314" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120314"}
  [1m[36mBook Load (1.7ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120314 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120314[0m
  Rendered books/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 2.4ms | ActiveRecord: 1.9ms)
  [1m[35m (38.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken', `updated_at` = '2017-09-26 13:15:50' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (57.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.3ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:15:50 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `books`[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('cats', 'bit', '45fks', '2007-03-30', '2017-09-26 13:17:22', '2017-09-26 13:17:22', 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`, `id`) VALUES ('dogs', 'dbit', '45hs', '2017-03-30', '2017-09-26 13:17:22', '2017-09-26 13:17:22', 893120179)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM `authors`[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('andy', '2017-09-26 13:17:22', '2017-09-26 13:17:22', 60668565, 60668565)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO `authors` (`name`, `created_at`, `updated_at`, `id`, `book_id`) VALUES ('dandy', '2017-09-26 13:17:22', '2017-09-26 13:17:22', 893120179, 893120179)[0m
  [1m[35m (46.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (13.0ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 131ms (Views: 125.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"", "password"=>"[FILTERED]"}}
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (15.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 16.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.4ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SiteLayoutTest: test_layout_links
---------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_unsuccessful_edit_book
------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 13.1ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>""}, "id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 4.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
BooksEditTest: test_successful_add_book
---------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"hands", "publisher"=>"hend", "isbn"=>"fdsf4", "publishing_date"=>"20-3-2007"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'hands' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'fdsf4' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('hands', 'hend', 'fdsf4', '2007-03-20', '2017-09-26 13:17:22', '2017-09-26 13:17:22')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/893120315
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started GET "/books/893120315" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"893120315"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 893120315 LIMIT 1[0m
  Rendering books/show.html.erb within layouts/application
  [1m[36mAuthor Load (0.2ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120315[0m
  Rendered books/show.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[35m (40.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksEditTest: test_unsuccessful_add_book
-----------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started POST "/books" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"title"=>"", "publisher"=>"", "isbn"=>"", "date"=>"0"}}
Unpermitted parameter: :date
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered books/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 2.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
BooksEditTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
Started DELETE "/books/60668565" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"60668565"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `books`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksEditTest: test_successful_edit_book
----------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/books/60668565/edit" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"60668565"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  Rendering books/edit.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/edit.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.2ms)
Started PATCH "/books/60668565?book%5Btitle%5D=chicken" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"title"=>"chicken"}, "id"=>"60668565"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'chicken' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[36mBook Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '45fks' AND (`books`.`id` != 60668565) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `books` SET `title` = 'chicken' WHERE `books`.`id` = 60668565[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/60668565
Completed 302 Found in 9ms (ActiveRecord: 1.4ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
  [1m[35m (38.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BooksEditTest: test_should_delete_as_admin
------------------------------------------
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BooksControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#home as HTML
  Rendering books/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 893120179[0m
  Rendered books/home.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
BooksControllerTest: test_should_get_new
----------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/new" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#new as HTML
  Rendering books/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered books/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
BooksControllerTest: test_should_get_search
-------------------------------------------
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------
SearchTest: test_search_as_admin
--------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"username"=>"root", "password"=>"[FILTERED]"}}
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 3.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
SearchTest: test_search_as_non_admin
------------------------------------
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 60668565 LIMIT 1[0m
Started GET "/search" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#search as HTML
  Rendering books/search.html.erb within layouts/application
  Rendered books/search.html.erb within layouts/application (0.2ms)
  Rendered layouts/_header.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/search_index" for 127.0.0.1 at 2017-09-26 15:17:22 +0200
Processing by BooksController#index as HTML
  Parameters: {"search"=>"cats"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (publisher LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE (title LIKE '%cats%') ORDER BY created_at DESC[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` INNER JOIN `authors` ON `authors`.`book_id` = `books`.`id` WHERE (authors.name LIKE '%cats%') ORDER BY created_at DESC[0m
  Rendering books/index.html.erb within layouts/application
  [1m[36mAuthor Load (0.1ms)[0m  [1m[34mSELECT `authors`.* FROM `authors` WHERE `authors`.`book_id` = 60668565[0m
  Rendered books/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
BookTest: test_publisher_shouldn't_be_too_long
----------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_title_should_be_unique
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:17:22', '2017-09-26 13:17:22')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (41.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
BookTest: test_isbn_should_be_present
-------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = '  ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_publisher_should_be_present
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
BookTest: test_title_should_be_present
--------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = '  ' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------
BookTest: test_isbn_should_be_unique
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `books` (`title`, `publisher`, `isbn`, `publishing_date`, `created_at`, `updated_at`) VALUES ('example', 'example publisher', 'example1', '2003-02-03', '2017-09-26 13:17:22', '2017-09-26 13:17:22')[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (50.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
BookTest: test_isbn_shouldn't_be_too_long
-----------------------------------------
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'aaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------
BookTest: test_should_be_valid
------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
BookTest: test_publishing_date_format_should_be_valid
-----------------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'example' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
BookTest: test_title_shouldn't_be_too_long
------------------------------------------
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`title` = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa' LIMIT 1[0m
  [1m[36mBook Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM `books` WHERE `books`.`isbn` = 'example1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
